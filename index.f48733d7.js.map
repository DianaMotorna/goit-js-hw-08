{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAgBC,SAASC,cAAc,kBACvCC,EAAUF,SAASC,cAAc,uBACjCE,EAAYH,SAASC,cAAc,4BAInCG,EAAO,CACXC,MAAO,GACPC,QAAS,IAGLC,EAAUC,EAAAX,EAAA,EAASY,IACvBC,aAAaC,QARK,sBAQgBC,KAAKC,UAAUT,GAAM,GACtD,KAEHL,EAAce,iBAAiB,SAAS,SAAUC,GAChDX,EAAKW,EAAMC,OAAOC,MAAQF,EAAMC,OAAOE,MACvCX,EAAQH,E,IAGVe,OAAOL,iBAAiB,QAAQC,IAC9B,MAAMN,EAAYG,KAAKQ,MAAMV,aAAaW,QAjBxB,wBAmBdZ,IACFL,EAAKC,MAAQI,EAAUJ,MACvBD,EAAKE,QAAUG,EAAUH,QACzBJ,EAAQgB,MAAQT,EAAUJ,MAC1BF,EAAUe,MAAQT,EAAUH,Q,IAIhCP,EAAce,iBAAiB,UAAUQ,IACvCA,EAAEC,iBACFxB,EAAcyB,QACdd,aAAae,WA9BK,uBAgClBC,QAAQC,IAAIvB,EAAK","sources":["src/js/03-feedback.js"],"sourcesContent":["import throttle from 'lodash.throttle';\n\nconst formContainer = document.querySelector('.feedback-form');\nconst emailEl = document.querySelector('input[name=\"email\"]');\nconst messageEl = document.querySelector('textarea[name=\"message\"]');\n\nconst STORAGE_KEY = 'feedback-form-state';\n\nconst data = {\n  email: '',\n  message: '',\n};\n\nconst setData = throttle(localData => {\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(data));\n}, 500);\n\nformContainer.addEventListener('input', function (event) {\n  data[event.target.name] = event.target.value;\n  setData(data);\n});\n\nwindow.addEventListener('load', event => {\n  const localData = JSON.parse(localStorage.getItem(STORAGE_KEY));\n\n  if (localData) {\n    data.email = localData.email;\n    data.message = localData.message;\n    emailEl.value = localData.email;\n    messageEl.value = localData.message;\n  }\n});\n\nformContainer.addEventListener('submit', e => {\n  e.preventDefault();\n  formContainer.reset();\n  localStorage.removeItem(STORAGE_KEY);\n\n  console.log(data);\n});\n"],"names":["$9OeKo","parcelRequire","$945622fd0f572e60$var$formContainer","document","querySelector","$945622fd0f572e60$var$emailEl","$945622fd0f572e60$var$messageEl","$945622fd0f572e60$var$data","email","message","$945622fd0f572e60$var$setData","$parcel$interopDefault","localData","localStorage","setItem","JSON","stringify","addEventListener","event","target","name","value","window","parse","getItem","e","preventDefault","reset","removeItem","console","log"],"version":3,"file":"index.f48733d7.js.map"}